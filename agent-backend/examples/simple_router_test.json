{
  "metadata": {
    "name": "简单路由测试",
    "description": "用于测试路由节点基本功能的简单流程图",
    "version": "1.0.0"
  },
  "nodes": [
    {
      "id": "start_llm",
      "type": "llm",
      "position": { "x": 250, "y": 50 },
      "data": {
        "label": "开始判断",
        "nodeType": "llm",
        "isStartNode": true,
        "config": {
          "system_prompt": "你是一个智能判断器，请分析用户问题并输出判断结果。",
          "user_prompt": "请分析以下用户问题，并输出JSON格式的判断结果：\n\n用户问题：{{message}}\n\n请输出：{\"can_direct_answer\": true|false}",
          "save_as": "judge_result"
        }
      }
    },
    {
      "id": "router_1",
      "type": "router",
      "position": { "x": 250, "y": 150 },
      "data": {
        "label": "路由判断",
        "nodeType": "router",
        "config": {
          "routing_logic": {
            "field": "can_direct_answer",
            "true_branch": "direct_answer",
            "false_branch": "tool_required"
          }
        }
      }
    },
    {
      "id": "direct_answer",
      "type": "llm",
      "position": { "x": 100, "y": 250 },
      "data": {
        "label": "直接回答",
        "nodeType": "llm",
        "config": {
          "system_prompt": "你是一个智能助手，请直接回答用户问题。",
          "user_prompt": "用户问题：{{message}}\n\n请直接回答，无需查询外部信息。",
          "save_as": "direct_answer_result"
        }
      }
    },
    {
      "id": "tool_required",
      "type": "llm",
      "position": { "x": 400, "y": 250 },
      "data": {
        "label": "需要工具",
        "nodeType": "llm",
        "config": {
          "system_prompt": "你是一个工具选择器，请说明需要什么工具。",
          "user_prompt": "用户问题：{{message}}\n\n请说明需要什么工具来解决这个问题。",
          "save_as": "tool_required_result"
        }
      }
    }
  ],
  "edges": [
    {
      "id": "edge_1",
      "source": "start_llm",
      "target": "router_1"
    },
    {
      "id": "edge_2",
      "source": "router_1",
      "sourceHandle": "source-true",
      "target": "direct_answer"
    },
    {
      "id": "edge_3",
      "source": "router_1",
      "sourceHandle": "source-false",
      "target": "tool_required"
    }
  ]
} 